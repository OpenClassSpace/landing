var validateEmail=function(a){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return e.test(a)};$(document).ready(function(){$(".modal-trigger").leanModal({opacity:.5});var a=$("form");a.submit(function(e){var d=$("#email"),t=d.val();if(validateEmail(t)){$("button",a).addClass("disabled").attr("disabled","disabled");var s=$("<div>").addClass("progress").append($("<div>").addClass("indeterminate"));a.prepend(s),$.ajax({type:"POST",url:"http://api-openclassspace.rhcloud.com/subscribers",data:{email:t},dataType:"json",success:function(a){$("form").remove();var e=$("<p>").addClass("flow-text").text("Thank you!");$(".email").append(e)},error:function(a){}})}else d.removeClass("valid"),d.addClass("invalid");e.preventDefault()})});